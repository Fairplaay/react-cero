{"dependencies":[{"name":"/home/fairplaay/Documentos/react/EDteam/package.json","includedInParent":true,"mtime":1523027050485},{"name":"/home/fairplaay/Documentos/react/EDteam/.babelrc","includedInParent":true,"mtime":1522794174520},{"name":"/home/fairplaay/Documentos/react/EDteam/node_modules/@firebase/database/package.json","includedInParent":true,"mtime":1523027023591},{"name":"@firebase/util","loc":{"line":16,"column":34}},{"name":"../util/util","loc":{"line":17,"column":38}},{"name":"./StatsListener","loc":{"line":18,"column":30}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.StatsReporter = undefined;\n\nvar _util = require('@firebase/util');\n\nvar _util2 = require('../util/util');\n\nvar _StatsListener = require('./StatsListener');\n\n// Assuming some apps may have a short amount of time on page, and a bulk of firebase operations probably\n// happen on page load, we try to report our first set of stats pretty quickly, but we wait at least 10\n// seconds to try to ensure the Firebase connection is established / settled.\nvar FIRST_STATS_MIN_TIME = 10 * 1000; /**\n                                       * Copyright 2017 Google Inc.\n                                       *\n                                       * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                       * you may not use this file except in compliance with the License.\n                                       * You may obtain a copy of the License at\n                                       *\n                                       *   http://www.apache.org/licenses/LICENSE-2.0\n                                       *\n                                       * Unless required by applicable law or agreed to in writing, software\n                                       * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                       * See the License for the specific language governing permissions and\n                                       * limitations under the License.\n                                       */\n\nvar FIRST_STATS_MAX_TIME = 30 * 1000;\n// We'll continue to report stats on average every 5 minutes.\nvar REPORT_STATS_INTERVAL = 5 * 60 * 1000;\n/**\n * @constructor\n */\nvar StatsReporter = /** @class */function () {\n    /**\n     * @param collection\n     * @param server_\n     */\n    function StatsReporter(collection, server_) {\n        this.server_ = server_;\n        this.statsToReport_ = {};\n        this.statsListener_ = new _StatsListener.StatsListener(collection);\n        var timeout = FIRST_STATS_MIN_TIME + (FIRST_STATS_MAX_TIME - FIRST_STATS_MIN_TIME) * Math.random();\n        (0, _util2.setTimeoutNonBlocking)(this.reportStats_.bind(this), Math.floor(timeout));\n    }\n    StatsReporter.prototype.includeStat = function (stat) {\n        this.statsToReport_[stat] = true;\n    };\n    StatsReporter.prototype.reportStats_ = function () {\n        var _this = this;\n        var stats = this.statsListener_.get();\n        var reportedStats = {};\n        var haveStatsToReport = false;\n        (0, _util.forEach)(stats, function (stat, value) {\n            if (value > 0 && (0, _util.contains)(_this.statsToReport_, stat)) {\n                reportedStats[stat] = value;\n                haveStatsToReport = true;\n            }\n        });\n        if (haveStatsToReport) {\n            this.server_.reportStats(reportedStats);\n        }\n        // queue our next run.\n        (0, _util2.setTimeoutNonBlocking)(this.reportStats_.bind(this), Math.floor(Math.random() * 2 * REPORT_STATS_INTERVAL));\n    };\n    return StatsReporter;\n}();\nexports.StatsReporter = StatsReporter;\n\n//# sourceMappingURL=StatsReporter.js.map","map":{"mappings":[{"generated":{"line":8,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":16,"column":0}},{"generated":{"line":10,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":17,"column":0}},{"generated":{"line":12,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":18,"column":0}},{"generated":{"line":14,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":19,"column":0}},{"generated":{"line":15,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":20,"column":0}},{"generated":{"line":16,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":21,"column":0}},{"generated":{"line":17,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":22,"column":0}},{"name":"FIRST_STATS_MIN_TIME","generated":{"line":17,"column":4},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":22,"column":4}},{"generated":{"line":17,"column":27},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":22,"column":27}},{"generated":{"line":17,"column":32},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":22,"column":32}},{"generated":{"line":17,"column":36},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":22,"column":0}},{"generated":{"line":17,"column":38},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":1,"column":0}},{"generated":{"line":33,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":23,"column":0}},{"name":"FIRST_STATS_MAX_TIME","generated":{"line":33,"column":4},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":23,"column":4}},{"generated":{"line":33,"column":27},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":23,"column":27}},{"generated":{"line":33,"column":32},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":23,"column":32}},{"generated":{"line":33,"column":36},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":23,"column":0}},{"generated":{"line":34,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":24,"column":0}},{"generated":{"line":35,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":25,"column":0}},{"name":"REPORT_STATS_INTERVAL","generated":{"line":35,"column":4},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":25,"column":4}},{"generated":{"line":35,"column":28},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":25,"column":28}},{"generated":{"line":35,"column":32},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":25,"column":32}},{"generated":{"line":35,"column":34},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":25,"column":28}},{"generated":{"line":35,"column":37},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":25,"column":37}},{"generated":{"line":35,"column":41},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":25,"column":0}},{"generated":{"line":36,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":26,"column":0}},{"generated":{"line":39,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":29,"column":0}},{"name":"StatsReporter","generated":{"line":39,"column":4},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":29,"column":4}},{"generated":{"line":39,"column":20},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":29,"column":20}},{"generated":{"line":39,"column":33},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":29,"column":35}},{"generated":{"line":39,"column":45},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":29,"column":47}},{"generated":{"line":40,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":30,"column":4}},{"generated":{"line":44,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":34,"column":4}},{"name":"StatsReporter","generated":{"line":44,"column":13},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":34,"column":13}},{"generated":{"line":44,"column":26},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":34,"column":4}},{"name":"collection","generated":{"line":44,"column":27},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":34,"column":27}},{"generated":{"line":44,"column":37},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":34,"column":4}},{"name":"server_","generated":{"line":44,"column":39},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":34,"column":39}},{"generated":{"line":44,"column":46},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":34,"column":4}},{"generated":{"line":44,"column":48},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":34,"column":48}},{"generated":{"line":45,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":35,"column":8}},{"name":"server_","generated":{"line":45,"column":13},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":35,"column":13}},{"generated":{"line":45,"column":20},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":35,"column":8}},{"name":"server_","generated":{"line":45,"column":23},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":35,"column":23}},{"generated":{"line":45,"column":30},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":35,"column":8}},{"generated":{"line":46,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":36,"column":8}},{"name":"statsToReport_","generated":{"line":46,"column":13},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":36,"column":13}},{"generated":{"line":46,"column":27},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":36,"column":8}},{"generated":{"line":46,"column":30},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":36,"column":30}},{"generated":{"line":46,"column":32},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":36,"column":8}},{"generated":{"line":47,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":37,"column":8}},{"name":"statsListener_","generated":{"line":47,"column":13},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":37,"column":13}},{"generated":{"line":47,"column":27},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":37,"column":8}},{"generated":{"line":47,"column":30},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":37,"column":30}},{"name":"collection","generated":{"line":47,"column":63},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":37,"column":48}},{"generated":{"line":47,"column":73},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":37,"column":30}},{"generated":{"line":47,"column":74},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":37,"column":8}},{"generated":{"line":48,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":38,"column":8}},{"name":"timeout","generated":{"line":48,"column":12},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":38,"column":12}},{"name":"FIRST_STATS_MIN_TIME","generated":{"line":48,"column":22},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":38,"column":22}},{"generated":{"line":48,"column":45},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":39,"column":12}},{"name":"FIRST_STATS_MAX_TIME","generated":{"line":48,"column":46},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":39,"column":13}},{"name":"FIRST_STATS_MIN_TIME","generated":{"line":48,"column":69},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":39,"column":36}},{"generated":{"line":48,"column":89},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":39,"column":12}},{"name":"Math","generated":{"line":48,"column":93},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":39,"column":60}},{"name":"random","generated":{"line":48,"column":98},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":39,"column":65}},{"generated":{"line":48,"column":104},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":39,"column":60}},{"generated":{"line":48,"column":106},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":38,"column":8}},{"generated":{"line":49,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":8}},{"generated":{"line":49,"column":42},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":30}},{"name":"reportStats_","generated":{"line":49,"column":47},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":35}},{"generated":{"line":49,"column":59},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":30}},{"name":"bind","generated":{"line":49,"column":60},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":48}},{"generated":{"line":49,"column":64},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":30}},{"generated":{"line":49,"column":65},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":53}},{"generated":{"line":49,"column":69},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":30}},{"generated":{"line":49,"column":70},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":8}},{"name":"Math","generated":{"line":49,"column":72},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":60}},{"name":"floor","generated":{"line":49,"column":77},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":65}},{"generated":{"line":49,"column":82},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":60}},{"name":"timeout","generated":{"line":49,"column":83},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":71}},{"generated":{"line":49,"column":90},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":60}},{"generated":{"line":49,"column":91},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":40,"column":8}},{"generated":{"line":50,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":41,"column":5}},{"name":"StatsReporter","generated":{"line":51,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":42,"column":4}},{"name":"prototype","generated":{"line":51,"column":18},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":42,"column":18}},{"generated":{"line":51,"column":27},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":42,"column":4}},{"name":"includeStat","generated":{"line":51,"column":28},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":42,"column":28}},{"generated":{"line":51,"column":39},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":42,"column":4}},{"generated":{"line":51,"column":42},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":42,"column":42}},{"name":"stat","generated":{"line":51,"column":52},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":42,"column":52}},{"generated":{"line":51,"column":56},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":42,"column":42}},{"generated":{"line":51,"column":58},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":42,"column":58}},{"generated":{"line":52,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":43,"column":8}},{"name":"statsToReport_","generated":{"line":52,"column":13},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":43,"column":13}},{"generated":{"line":52,"column":27},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":43,"column":8}},{"name":"stat","generated":{"line":52,"column":28},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":43,"column":28}},{"generated":{"line":52,"column":32},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":43,"column":8}},{"generated":{"line":52,"column":36},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":43,"column":36}},{"generated":{"line":52,"column":40},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":43,"column":8}},{"generated":{"line":53,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":44,"column":5}},{"generated":{"line":53,"column":5},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":42,"column":4}},{"name":"StatsReporter","generated":{"line":54,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":45,"column":4}},{"name":"prototype","generated":{"line":54,"column":18},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":45,"column":18}},{"generated":{"line":54,"column":27},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":45,"column":4}},{"name":"reportStats_","generated":{"line":54,"column":28},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":45,"column":28}},{"generated":{"line":54,"column":40},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":45,"column":4}},{"generated":{"line":54,"column":43},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":45,"column":43}},{"generated":{"line":54,"column":55},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":45,"column":55}},{"generated":{"line":55,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":46,"column":8}},{"name":"_this","generated":{"line":55,"column":12},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":46,"column":12}},{"generated":{"line":55,"column":20},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":46,"column":20}},{"generated":{"line":55,"column":24},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":46,"column":8}},{"generated":{"line":56,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":47,"column":8}},{"name":"stats","generated":{"line":56,"column":12},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":47,"column":12}},{"generated":{"line":56,"column":20},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":47,"column":20}},{"name":"statsListener_","generated":{"line":56,"column":25},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":47,"column":25}},{"generated":{"line":56,"column":39},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":47,"column":20}},{"name":"get","generated":{"line":56,"column":40},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":47,"column":40}},{"generated":{"line":56,"column":43},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":47,"column":20}},{"generated":{"line":56,"column":45},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":47,"column":8}},{"generated":{"line":57,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":48,"column":8}},{"name":"reportedStats","generated":{"line":57,"column":12},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":48,"column":12}},{"generated":{"line":57,"column":28},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":48,"column":28}},{"generated":{"line":57,"column":30},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":48,"column":8}},{"generated":{"line":58,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":49,"column":8}},{"name":"haveStatsToReport","generated":{"line":58,"column":12},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":49,"column":12}},{"generated":{"line":58,"column":32},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":49,"column":32}},{"generated":{"line":58,"column":37},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":49,"column":8}},{"generated":{"line":59,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":50,"column":8}},{"name":"stats","generated":{"line":59,"column":27},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":50,"column":16}},{"generated":{"line":59,"column":32},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":50,"column":8}},{"generated":{"line":59,"column":34},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":50,"column":23}},{"name":"stat","generated":{"line":59,"column":44},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":50,"column":33}},{"generated":{"line":59,"column":48},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":50,"column":23}},{"name":"value","generated":{"line":59,"column":50},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":50,"column":39}},{"generated":{"line":59,"column":55},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":50,"column":23}},{"generated":{"line":59,"column":57},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":50,"column":46}},{"generated":{"line":60,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":51,"column":12}},{"name":"value","generated":{"line":60,"column":16},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":51,"column":16}},{"generated":{"line":60,"column":24},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":51,"column":24}},{"generated":{"line":60,"column":25},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":51,"column":16}},{"generated":{"line":60,"column":29},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":51,"column":29}},{"name":"_this","generated":{"line":60,"column":49},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":51,"column":38}},{"name":"statsToReport_","generated":{"line":60,"column":55},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":51,"column":44}},{"generated":{"line":60,"column":69},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":51,"column":29}},{"name":"stat","generated":{"line":60,"column":71},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":51,"column":60}},{"generated":{"line":60,"column":75},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":51,"column":29}},{"generated":{"line":60,"column":76},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":51,"column":12}},{"generated":{"line":60,"column":78},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":51,"column":67}},{"name":"reportedStats","generated":{"line":61,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":52,"column":16}},{"name":"stat","generated":{"line":61,"column":30},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":52,"column":30}},{"generated":{"line":61,"column":34},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":52,"column":16}},{"name":"value","generated":{"line":61,"column":38},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":52,"column":38}},{"generated":{"line":61,"column":43},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":52,"column":16}},{"name":"haveStatsToReport","generated":{"line":62,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":53,"column":16}},{"generated":{"line":62,"column":36},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":53,"column":36}},{"generated":{"line":62,"column":40},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":53,"column":16}},{"generated":{"line":63,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":54,"column":13}},{"generated":{"line":64,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":55,"column":9}},{"generated":{"line":64,"column":9},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":50,"column":8}},{"generated":{"line":65,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":56,"column":8}},{"name":"haveStatsToReport","generated":{"line":65,"column":12},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":56,"column":12}},{"generated":{"line":65,"column":29},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":56,"column":8}},{"generated":{"line":65,"column":31},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":56,"column":31}},{"generated":{"line":66,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":57,"column":12}},{"name":"server_","generated":{"line":66,"column":17},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":57,"column":17}},{"generated":{"line":66,"column":24},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":57,"column":12}},{"name":"reportStats","generated":{"line":66,"column":25},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":57,"column":25}},{"generated":{"line":66,"column":36},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":57,"column":12}},{"name":"reportedStats","generated":{"line":66,"column":37},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":57,"column":37}},{"generated":{"line":66,"column":50},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":57,"column":12}},{"generated":{"line":67,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":58,"column":9}},{"generated":{"line":68,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":59,"column":8}},{"generated":{"line":69,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":8}},{"generated":{"line":69,"column":42},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":30}},{"name":"reportStats_","generated":{"line":69,"column":47},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":35}},{"generated":{"line":69,"column":59},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":30}},{"name":"bind","generated":{"line":69,"column":60},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":48}},{"generated":{"line":69,"column":64},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":30}},{"generated":{"line":69,"column":65},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":53}},{"generated":{"line":69,"column":69},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":30}},{"generated":{"line":69,"column":70},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":8}},{"name":"Math","generated":{"line":69,"column":72},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":60}},{"name":"floor","generated":{"line":69,"column":77},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":65}},{"generated":{"line":69,"column":82},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":60}},{"name":"Math","generated":{"line":69,"column":83},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":71}},{"name":"random","generated":{"line":69,"column":88},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":76}},{"generated":{"line":69,"column":94},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":71}},{"generated":{"line":69,"column":99},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":87}},{"generated":{"line":69,"column":100},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":71}},{"name":"REPORT_STATS_INTERVAL","generated":{"line":69,"column":103},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":91}},{"generated":{"line":69,"column":124},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":60}},{"generated":{"line":69,"column":125},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":60,"column":8}},{"generated":{"line":70,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":61,"column":5}},{"generated":{"line":70,"column":5},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":45,"column":4}},{"generated":{"line":71,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":62,"column":4}},{"name":"StatsReporter","generated":{"line":71,"column":11},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":62,"column":11}},{"generated":{"line":71,"column":24},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":62,"column":4}},{"generated":{"line":72,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":63,"column":1}},{"generated":{"line":72,"column":1},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":29,"column":35}},{"generated":{"line":72,"column":3},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":29,"column":0}},{"name":"StatsReporter","generated":{"line":73,"column":8},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":64,"column":9}},{"name":"StatsReporter","generated":{"line":73,"column":24},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":64,"column":9}},{"generated":{"line":75,"column":0},"source":"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js","original":{"line":66,"column":0}}],"sources":{"node_modules/@firebase/database/dist/esm/src/core/stats/StatsReporter.js":"/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { contains, forEach } from '@firebase/util';\nimport { setTimeoutNonBlocking } from '../util/util';\nimport { StatsListener } from './StatsListener';\n// Assuming some apps may have a short amount of time on page, and a bulk of firebase operations probably\n// happen on page load, we try to report our first set of stats pretty quickly, but we wait at least 10\n// seconds to try to ensure the Firebase connection is established / settled.\nvar FIRST_STATS_MIN_TIME = 10 * 1000;\nvar FIRST_STATS_MAX_TIME = 30 * 1000;\n// We'll continue to report stats on average every 5 minutes.\nvar REPORT_STATS_INTERVAL = 5 * 60 * 1000;\n/**\n * @constructor\n */\nvar StatsReporter = /** @class */ (function () {\n    /**\n     * @param collection\n     * @param server_\n     */\n    function StatsReporter(collection, server_) {\n        this.server_ = server_;\n        this.statsToReport_ = {};\n        this.statsListener_ = new StatsListener(collection);\n        var timeout = FIRST_STATS_MIN_TIME +\n            (FIRST_STATS_MAX_TIME - FIRST_STATS_MIN_TIME) * Math.random();\n        setTimeoutNonBlocking(this.reportStats_.bind(this), Math.floor(timeout));\n    }\n    StatsReporter.prototype.includeStat = function (stat) {\n        this.statsToReport_[stat] = true;\n    };\n    StatsReporter.prototype.reportStats_ = function () {\n        var _this = this;\n        var stats = this.statsListener_.get();\n        var reportedStats = {};\n        var haveStatsToReport = false;\n        forEach(stats, function (stat, value) {\n            if (value > 0 && contains(_this.statsToReport_, stat)) {\n                reportedStats[stat] = value;\n                haveStatsToReport = true;\n            }\n        });\n        if (haveStatsToReport) {\n            this.server_.reportStats(reportedStats);\n        }\n        // queue our next run.\n        setTimeoutNonBlocking(this.reportStats_.bind(this), Math.floor(Math.random() * 2 * REPORT_STATS_INTERVAL));\n    };\n    return StatsReporter;\n}());\nexport { StatsReporter };\n\n//# sourceMappingURL=StatsReporter.js.map\n"},"lineCount":null}},"hash":"ccb99223e0d573b8ad5616d11a7594f0","cacheData":{"env":{}}}